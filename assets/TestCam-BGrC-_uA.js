import{_ as c,r as d,o as u,d as v,e as s,t as m,l as f}from"./index-BOJs82Qa.js";const p={__name:"TestCam",setup(g){const a=d(null),i=d("等待扫码...");let n=null,r=null;return u(async()=>{await ZXingBrowser.BrowserQRCodeReader.wasmBindingsReady;const e=(await navigator.mediaDevices.enumerateDevices()).find(t=>t.kind==="videoinput");if(!e){i.value="❌ 没有找到摄像头";return}r=await navigator.mediaDevices.getUserMedia({video:{deviceId:e.deviceId,facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),a.value.srcObject=r,n=new ZXingBrowser.BrowserMultiFormatReader,n.decodeFromVideoElement(a.value,(t,w)=>{t&&(i.value="✅ 扫码成功："+t.getText(),n.reset(),r.getTracks().forEach(l=>l.stop()))})}),(o,e)=>(f(),v("div",null,[e[0]||(e[0]=s("h2",null,"高识别率扫码3（ZXing WASM + Vue3）",-1)),s("video",{ref_key:"videoRef",ref:a,autoplay:"",muted:"",playsinline:"",style:{width:"100%","max-width":"480px"}},null,512),s("div",null,m(i.value),1)]))}},B=c(p,[["__scopeId","data-v-41bd7f7b"]]);export{B as default};
