import{_ as l,r as o,o as u,d as c,e as n,t as v,l as m}from"./index-CkcDGLu3.js";const p={__name:"TestCam",setup(f){const t=o(null),i=o("等待扫码...");let d=null,r=null;return u(async()=>{await ZXingBrowser.BrowserQRCodeReader.wasmBindingsReady;const e=(await navigator.mediaDevices.enumerateDevices()).find(a=>a.kind==="videoinput");if(!e){i.value="❌ 没有找到摄像头";return}r=await navigator.mediaDevices.getUserMedia({video:{deviceId:e.deviceId,facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),t.value.srcObject=r,d=new ZXingBrowser.BrowserMultiFormatReader,d.decodeFromVideoElement(t.value,(a,w)=>{a&&(i.value="✅ 扫码成功："+a.getText())})}),(s,e)=>(m(),c("div",null,[e[0]||(e[0]=n("h2",null,"高识别率扫码1",-1)),n("video",{ref_key:"videoRef",ref:t,autoplay:"",muted:"",playsinline:"",style:{width:"100%","max-width":"480px"}},null,512),n("div",null,v(i.value),1)]))}},g=l(p,[["__scopeId","data-v-340ae54b"]]);export{g as default};
