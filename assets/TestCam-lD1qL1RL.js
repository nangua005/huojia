import{_ as l,r as o,o as u,d as c,e as d,t as v,l as m}from"./index-1G3skwmi.js";const f={__name:"TestCam",setup(p){const t=o(null),i=o("等待扫码...");let n=null,r=null;return u(async()=>{await ZXingBrowser.BrowserQRCodeReader.wasmBindingsReady;const e=(await navigator.mediaDevices.enumerateDevices()).find(a=>a.kind==="videoinput");if(!e){i.value="❌ 没有找到摄像头";return}r=await navigator.mediaDevices.getUserMedia({video:{deviceId:e.deviceId,facingMode:"environment",width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30,max:60}}}),t.value.srcObject=r,n=new ZXingBrowser.BrowserMultiFormatReader,n.decodeFromVideoElement(t.value,(a,w)=>{a&&(i.value="✅ 扫码成功："+a.getText())})}),(s,e)=>(m(),c("div",null,[e[0]||(e[0]=d("h2",null,"高识别率扫码5",-1)),d("video",{ref_key:"videoRef",ref:t,autoplay:"",muted:"",playsinline:"",style:{width:"100%","max-width":"480px"}},null,512),d("div",null,v(i.value),1)]))}},g=l(f,[["__scopeId","data-v-4712d489"]]);export{g as default};
