import{_ as c,r as o,o as u,d as v,e as s,t as m,l as p}from"./index-CeGT6tiY.js";const f={__name:"TestCam",setup(g){const t=o(null),i=o("等待扫码...");let n=null,r=null;return u(async()=>{await ZXingBrowser.BrowserQRCodeReader.wasmBindingsReady;const e=(await navigator.mediaDevices.enumerateDevices()).find(a=>a.kind==="videoinput");if(!e){i.value="❌ 没有找到摄像头";return}r=await navigator.mediaDevices.getUserMedia({video:{deviceId:e.deviceId,facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),t.value.srcObject=r,n=new ZXingBrowser.BrowserMultiFormatReader,n.decodeFromVideoElement(t.value,(a,w)=>{a&&(i.value="✅ 扫码成功："+a.getText(),n.reset(),r.getTracks().forEach(l=>l.stop()))})}),(d,e)=>(p(),v("div",null,[e[0]||(e[0]=s("h2",null,"高识别率扫码（ZXing WASM + Vue3）",-1)),s("video",{ref_key:"videoRef",ref:t,autoplay:"",muted:"",playsinline:"",style:{width:"100%","max-width":"480px"}},null,512),s("div",null,m(i.value),1)]))}},B=c(f,[["__scopeId","data-v-49295a3a"]]);export{B as default};
